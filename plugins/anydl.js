const config = require('../config')
const { cmd, commands } = require('../command')
const { getBuffer, getGroupAdmins, getRandom, h2k, isUrl, Json, runtime, sleep, fetchJson} = require('../lib/functions')
const fetch = require('node-fetch')

//========================
cmd({
    pattern: "waifudiff",
    alias: ["diff"],
    use: '.waifudiff <url>',
    react: "ğŸŸ",
    desc: "bbbb.",
    category: "download",
    filename: __filename

},

async(conn, mek, m,{from, l, quoted, body, isCmd, command, args, q, isGroup, sender, senderNumber, botNumber2, botNumber, pushname, isMe, isOwner, groupMetadata, groupName, participants, groupAdmins, isBotAdmins, isAdmins, reply}) => {
try{
//if (!isMe) return await reply('ğŸš© You are not a premium user\nbuy via message to owner!!')
if (!q) return reply('ğŸš© *Please give me words to search*')
let wm = `Â© ğ–°ğ—ğ–¾ğ–¾ğ—‡ ğ—„ğ–¾ğ—‡ğ—“ğ—‚ ğ—†ğ–½ v${require("../package.json").version} (Test)\nsÉªá´á´˜ÊŸá´‡ á´¡á´€Ê™á´á´› á´á´€á´…á´‡ Ê™Ê á´…á´€É´á´œxá´¢á´¢ ğŸ…¥`
var res = await fetchJson('https://api.neoxr.eu/api/waifudiff?q=' + q)
await conn.sendMessage(from, { image: { url: res.data }, caption: wm }, { quoted: mek })
} catch (e) {
    console.log(e)
  await conn.sendMessage(from, { text: 'ğŸš© *Error !!*' }, { quoted: mek } )
}
})
